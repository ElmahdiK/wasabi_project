<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">


<dom-module id="x-song">
   <template>
        <style>
            .flex-wrap {
                @apply(--layout-horizontal);
                @apply(--layout-wrap);
            }
            .song{
                border-bottom: 1px solid rgba(229, 229, 229, 0.51);
                padding: 20px;
                padding-left: 7%;
                display: block;
            }
            paper-input{
                margin-left: 9%;
                margin-right: 9%;
            }
            paper-card{
                cursor:pointer;
            }
            paper-card:hover{
                background-color: #F2F2F2;
            }
        </style>
            <paper-card hidden="{{editing}}" on-tap="doLoadSong" link="#/search/artist/{{_encodeUri(album.name)}}/album/{{_encodeUri(album.titre)}}/song/{{_encodeUri(song.titre)}}" class="song" elevation="0" >
                <li link="#/search/artist/{{_encodeUri(album.name)}}/album/{{_encodeUri(album.titre)}}/song/{{_encodeUri(song.titre)}}">
                    {{song.titre}}
                </li>
                <paper-ripple></paper-ripple>
            </paper-card>

            <paper-input label="titre: {{song.titre}}" id="edit" hidden="{{!editing}}" value="{{song.titre}}"></paper-input>        
    </template>     
<script>
  // element registration
  Polymer({
    is: "x-song",
    // add properties and methods on the element's prototype
    properties: {
//        artist:{
//            type: Object,
//            value: {}
//        },
        song:{
            type: Object,
            value: {}
        },
        album:{
            type: Object,
            value: {}
        },
    	editing: {
	    	type: Boolean,
	    	value: false	
    	}
    },
    ready: function(e){    
    },
    doLoadSong:function(e){
        console.log("e.target.link == "+e.target.link)
          window.location.href = e.target.link;
    },
      
    _encodeUri : function(titre){
        return encodeURIComponent(titre);
    }  
  });  

</script>   
</dom-module>

