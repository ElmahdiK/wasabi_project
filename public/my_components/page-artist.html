<!DOCTYPE html>
<html>
    <head>
        <link href="../bower_components/polymer/polymer.html" rel="import">
        <link href="../bower_components/paper-tabs/paper-tabs.html" rel="import">
        <link href="../bower_components/paper-material/paper-material.html" rel="import">
        <link href="../bower_components/iron-pages/iron-pages.html" rel="import">
        <link href="../bower_components/paper-card/paper-card.html" rel="import">
        <link href="../bower_components/paper-ripple/paper-ripple.html" rel="import">
        <link href="../bower_components/iron-ajax/iron-ajax.html" rel="import">
        <link href="../bower_components/paper-item/paper-item.html" rel="import">
        <link rel="import" href="../bower_components/paper-item/paper-icon-item.html">
        <link rel="import" href="../bower_components/paper-item/paper-item-body.html">
        <link rel="import" href="../bower_components/paper-fab/paper-fab.html">
        <link rel="import" href="show-dialog.html">


        
    </head>

    <dom-module id="page-artist">
        <style>
            .flex-wrap {
                @apply(--layout-horizontal);
                @apply(--layout-wrap);
            }
            .artistname{
                font-size: 34px;
                line-height: 34px;
                padding-top: 3%;
                padding-right: 24px;
                padding-bottom: 14px;
                padding-left: 24px;
            }
            paper-material{
                margin-bottom: 5%;
            }            
        </style>
        <template>
            <paper-material elevation="1">
                <iron-ajax id="get_content" auto url="/search/artist/{{_encodeUri(nameArtist)}}" last-response="{{artist}}" handleAs="json"> </iron-ajax>
                <template is="dom-if" if="{{artist.rdf.length}}">
                    <show-dialog labeldialog="RDF {{artist.name}} :" labelbutton="Show RDF" content="{{artist.rdf}}" labelexitdialog="Close"></show-dialog>
                </template>
                <div class="artistname"> {{artist.name}}</div>
                
                <template class="flex-wrap" is="dom-repeat" items="{{artist.albums}}" as="album" initial-count="1" >
                    <x-album album={{album}} artist={{artist}}></x-album>
                </template>
            </paper-material>
        </template>
    </dom-module>

    
<script>
  // element registration
  Polymer({
    is: "page-artist",
    // add properties and methods on the element's prototype
    properties: {
        artist:{
            type: Object,
            value: {}
        },
    },
    ready: function(e){    
    },
    _encodeUri : function(nameArtist){
        return encodeURIComponent(nameArtist);
    },    
  });  

</script>   
</html>
    
