<!DOCTYPE html>
<html>
    <head>
        <link href="../bower_components/polymer/polymer.html" rel="import">
        <link href="../bower_components/paper-input/paper-input.html" rel="import">
        <link href="../bower_components/iron-icons/iron-icons.html" rel="import">
    </head>

    <dom-module id="paper-input-search">
      <style>
        /* CSS rules for your element */
        paper-input#searchInput {
            --paper-input-container-color:  rgba(255, 255, 255, 0.6);
            --paper-input-container-focus-color: white;
            --paper-input-container-input-color: white;
        }
        paper-input{
            @apply(--layout-horizontal);
            @apply(--layout-center);
        }
          paper-input{
                margin-left: 28%;
                margin-bottom: 7px;
                width: 40%;
          }
         paper-input /deep/ paper-input-container{
             width: 100%;
        }
      </style>
        <template>
            <iron-ajax id="get_search" url="" last-response="{{data}}" handleAs="json"> </iron-ajax>
<!--
            <paper-input type="search" label="Search" on-input="search" id="searchInput" results="10">
                <iron-icon icon="search" prefix></iron-icon>
                <paper-icon-button suffix  on-tap="clearInput" icon="clear" alt="clear" title="clear"></paper-icon-button>
            </paper-input>
-->
            <paper-input label="search!" type="search"  on-input="search" id="searchInput" placeholder="Recherche ..." autosave="test" results="10">
            </paper-input>
        </template>
    </dom-module>

<script>    
  // element registration
  Polymer({
    is: "paper-input-search",
    // add properties and methods on the element's prototype
    properties: {
    },
	ready: function(e){
        
    },
    clearInput:function(e){
        this.$.searchInput.value = "";
    },
    search:function(e){
        console.log(e);
        console.log(e.target.bindValue);
        
        this.$.get_search.url ="/search/artist/"+encodeURIComponent(e.target.bindValue); 
        this.$.get_search.generateRequest();
    } 
      
  });

</script>
</html>
    
